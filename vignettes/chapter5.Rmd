---
title: "Chapter 5 Exercises"
date: "`r Sys.Date()`"
author: "Colin Gillespie"
output: html_vignette
---
<!--
%\VignetteEngine{knitr::rmarkdown}
%\VignetteIndexEntry{Chapter 5 Exercises}
-->

## Exercise 1

  * Open `chapter5/shiny_app1.R` and run.
  * Create a new directory, with two files: `ui.R` and `server.R`
    * Move the ui section of the app to `ui.R` 
    * Move the server section of the app to `server.R`
    * Rerun the app via these new files.
  * Change the scatter plot to a histogram of movie lengths.

## Exercise 2

  * Open `chapter5/shiny_app2.R` and run. Experiment with the columns widths.
    * You can move columns to the right by adding the `offset` parameter to the `column()` function, e.g. ` column(4, offset=1, ...)`
  * Reproduce
    
    ```{r echo=FALSE, message=FALSE, fig.height=4, fig.width=4}
    library(jrShiny)
    layout(matrix(c(1, 1, 1, 0, 2, 0), 2, 3, byrow = TRUE), heights=c(8, 4))
    layout_show(2, text=c("Plot", "Drop down"))  
    ```
    Hint: You will need to use the `offset` argument

  * Reproduce
  
    ```{r echo=FALSE, message=FALSE, fig.height=4, fig.width=4}
    library("jrShiny")
    layout(matrix(c(0, 1, 1, 1, 1, 1,0,
                    0, 0, 2, 2, 2, 0, 0), 2, 7, byrow = T), heights=c(8, 4))
    layout_show(2, text=c("Plot", "Drop down"))  
    ```
    Hint: You will need to use the `offset` argument and two `fluidRow`

## Exercise 3: interactive graphics

  * Open `chapter5/interactive1.R` and run.
    * Change the output to display `x` and `y` to 4 significant figures.
    * If you are familiar with `ggplot2`, change the base graphic plot to a ggplot2 scatter plot. 
    * Change the plot to a boxplot - does it still work
  * Open `chapter5/interactive2.R` and run. Explore the other types of point selection.

## Exercise 4: acting on interactive graphics

  * Open `chapter5/interactive3.R` and run.
  * In the `nearPoints` function, what does
    * the argument `maxpoints=1` do?
    * the argument `allRows=TRUE` do?
  * On the scatter plot, add a line of best fit using the `lm` function
    * When you click on a point, remove that point from the regression calculation and
    refit the line.
    * Add a reset button to you app
    * Rather than clicking on a point, try brushing - selecting multiple, and altering the line.


  
  
  
  
  
  
  
  
  